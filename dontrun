#!/bin/bash

branch=$(git symbolic-ref --short HEAD)
backup_branch="backup_$(date +%Y%m%d_%H%M%S)"

git branch "$backup_branch"
echo "ðŸ“¦ Backup branch dibuat: $backup_branch"

git checkout --orphan temp_branch

git add -A

git commit -m "+Ã—>Ã·[Ã·]]Ã·[Ã·Ã—}}Ã·}Ã—}]Ã—]Ã—]]"

git branch -D "$branch" 2>/dev/null
git push origin --delete "$branch" 2>/dev/null

git branch -m "$branch"

git push -f origin "$branch"

echo "âœ… Branch '$branch' di-reset sepenuhnya (history bersih)."
echo "ðŸ—‚  Backup lama tersimpan di branch '$backup_branch' kalau mau dikembalikan."